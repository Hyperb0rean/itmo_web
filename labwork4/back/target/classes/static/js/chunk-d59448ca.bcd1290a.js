(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d59448ca"],{2705:function(e,t,n){"use strict";n("7a11")},"66aa":function(e,t,n){"use strict";n.r(t);var c=n("7a23"),a={key:0,class:"container"},r={class:"alert alert-danger admin",role:"alert",style:{"text-align":"center"}},s=Object(c["f"])(" Profile "),i={style:{display:"flex","justify-content":"space-between"}},l={class:"list-group",style:{width:"fit-content"}},o={class:"list-group-item d-flex align-items-center"},u=Object(c["g"])("strong",null,"Your id:",-1),g={class:"badge badge-danger badge-pill"},d={class:"list-group-item d-flex align-items-center"},b=Object(c["g"])("strong",null,"Your email:",-1),j={class:"badge badge-danger badge-pill"},O={class:"list-group-item d-flex align-items-center"},p=Object(c["g"])("strong",null,"Your authorities:",-1),f={class:"badge badge-danger badge-pill"},h={class:"list-group-item d-flex align-items-center"},m=Object(c["g"])("strong",null,"Number of your points:",-1),v={class:"badge badge-danger badge-pill"},y=Object(c["f"])(" Delete "),k=Object(c["g"])("strong",null,"all",-1),w=Object(c["f"])(" your points"),x=Object(c["g"])("div",{class:"card",style:{width:"40%"}},[Object(c["g"])("img",{class:"card-img-top prof_image",alt:"Card image cap",style:{width:"100%",height:"100px"}}),Object(c["g"])("div",{class:"card-body"},[Object(c["g"])("p",{class:"card-text"},"Social Credit game. Good luck comrade!")])],-1);function C(e,t,n,C,P,U){return U.currentUser?(Object(c["s"])(),Object(c["d"])("div",a,[Object(c["g"])("div",r,[Object(c["g"])("strong",null,Object(c["C"])(U.currentUser.username),1),s]),Object(c["g"])("div",i,[Object(c["g"])("div",null,[Object(c["g"])("ul",l,[Object(c["g"])("li",o,[u,Object(c["g"])("span",g,Object(c["C"])(U.currentUser.id),1)]),Object(c["g"])("li",d,[b,Object(c["g"])("span",j,Object(c["C"])(U.currentUser.email),1)]),Object(c["g"])("li",O,[p,Object(c["g"])("span",f,Object(c["C"])(U.currentUser.roles[0]),1)]),Object(c["g"])("li",h,[m,Object(c["g"])("span",v,Object(c["C"])(P.points.length),1),Object(c["g"])("button",{type:"button",class:"btn btn-outline-danger",onClick:t[1]||(t[1]=function(e){return U.deletePoints()})},[y,k,w])])])]),x])])):Object(c["e"])("",!0)}var P=n("b697"),U={name:"Profile",data:function(){return{points:[]}},computed:{currentUser:function(){return this.$store.state.auth.user}},methods:{getPoints:function(){var e=this;P["a"].getAll().then((function(t){e.points=t.data})).catch((function(e){return console.error(e)}))},deletePoints:function(){P["a"].deleteAll(),this.points=[]}},mounted:function(){this.currentUser||this.$router.push("/login"),this.getPoints()}};n("2705");U.render=C;t["default"]=U},"7a11":function(e,t,n){},b697:function(e,t,n){"use strict";var c=n("d4ec"),a=n("bee2"),r=n("bc3a"),s=n.n(r),i=n("c4c6"),l="http://localhost:1337/api/points/",o=function(){function e(){Object(c["a"])(this,e)}return Object(a["a"])(e,[{key:"getAll",value:function(){return s.a.get(l+"",{headers:Object(i["a"])()})}},{key:"savePoint",value:function(e){return s.a.post(l,e,{headers:Object(i["a"])()})}},{key:"deleteAll",value:function(){return s.a.delete(l,{headers:Object(i["a"])()})}}]),e}();t["a"]=new o},c4c6:function(e,t,n){"use strict";function c(){var e=JSON.parse(localStorage.getItem("user"));return e&&e.accessToken?{Authorization:"Bearer "+e.accessToken}:{}}n.d(t,"a",(function(){return c}))}}]);
//# sourceMappingURL=chunk-d59448ca.bcd1290a.js.map